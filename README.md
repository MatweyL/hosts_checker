# hosts_checker

Утилита мониторинга доступности хостов

## Настройка

В корне проекта необходимо создать файл **config.json** согласно структуре из **config.json.template**.  
  
В разделе *loggers* заполняется конфигурация логгеров приложения, доступные виды логгеров:  
- "file". Параметры: **log_file_max_size**, **logs_dir_path**. Данный логгер записывает данные опроса в файл, если размер файла превышает заданный максимальный размер, то логгер создает новый файл, имя файла - текущая временная метка на момент его создания.
- "console". Параметры: нет. Данный логгер выводит информацию в консоль.  
  
В разделе *notifiers* заполняется конфигурация объектов, которые будут оповещать о недоступности хостов и прочих ошибках, доступные виды уведомителей:  
- "telegram". Параметры: **bot_token** (токен бота, полученный у BotFather в Telegram), **known_users** (id пользователей телеграма, которые будут получать оповещения. Для получения оповещений им необходимо запустить бота). Отправляет сообщения об ошибках в телеграм.  
  
В разделе *hosts_checker* заполняется конфигурация, исходя из которой будут пинговаться хосты, параметры:  
- **ping_count** (количество посылаемых пакетов)
- **ping_timeout** (время ожидания)
- **sleep_timeout** (время паузы между итерациями переопроса всех хостов).

## Пример работы

Вывод в консоль:
![image](https://user-images.githubusercontent.com/74009572/223718316-6f1d62f4-d1a2-4f6c-b65c-0d1c4f3b7d6f.png)


Отправка оповещений об ошибках в Telegram:

![image](https://user-images.githubusercontent.com/74009572/223718486-5e9a1234-f717-4598-96f5-dc9ffb0a5272.png)
